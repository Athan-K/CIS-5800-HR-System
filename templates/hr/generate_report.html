{% extends "base.html" %}

{% block title %}Generate Report - Ethos HRMS{% endblock %}

{% block navigation %}
{% include "components/navbar_hr.html" %}
{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto">
    <h2 class="text-2xl font-bold text-gray-800 mb-6">Generate Report</h2>
    
    <div class="flex gap-6">
        <!-- Filters Panel -->
        <div class="w-72 bg-white rounded-xl shadow p-6">
            <h3 class="font-semibold text-gray-800 mb-4">Report Options</h3>
            
            <form id="report-form" hx-get="{% url 'hr:generate_report' %}" hx-target="#report-output" hx-swap="innerHTML">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Report Type</label>
                        <select name="report_type" required
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                            <option value="">Select...</option>
                            <option value="headcount">Headcount Report</option>
                            
                            <option value="leave">Leave Report</option>
                            <option value="attendance">Attendance Report</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Department</label>
                        <select name="department"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                            <option value="">All Departments</option>
                            {% for dept in departments %}
                            <option value="{{ dept.id }}">{{ dept.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Start Date</label>
                        <input type="date" name="start_date"
                               class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">End Date</label>
                        <input type="date" name="end_date"
                               class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                    </div>
                    
                    <button type="submit"
                            class="w-full px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm">
                        Generate Report
                    </button>
                </div>
            </form>
        </div>
        
        <!-- Report Output -->
        <div class="flex-1 bg-white rounded-xl shadow">
            <div class="border-b px-6 py-4 flex justify-between items-center">
                <h3 class="font-semibold text-gray-800">Report Preview</h3>
                <div class="flex gap-2">
                    <button onclick="window.print()" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded text-sm">
                        Print
                    </button>
                </div>
            </div>
            <div id="report-output" class="min-h-[400px]">
                <div class="p-8 text-center text-gray-500">
                    Select report options and click Generate.
                </div>
            </div>
        </div>
    </div>
    
    <div class="mt-4">
        <a href="{% url 'hr:reports' %}" class="text-gray-600 hover:text-gray-800 text-sm">
            ‚Üê Back to Analytics Dashboard
        </a>
    </div>
</div>
{% endblock %}