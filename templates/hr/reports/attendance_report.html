<div class="p-4">
    <h3 class="text-lg font-bold text-gray-800 mb-4">Attendance Report</h3>
    
    <!-- Summary Cards -->
    <div class="grid grid-cols-3 gap-4 mb-6">
        <div class="bg-blue-50 rounded-lg p-4 text-center">
            <p class="text-2xl font-bold text-blue-600">{{ total_records }}</p>
            <p class="text-sm text-gray-600">Total Records</p>
        </div>
        <div class="bg-green-50 rounded-lg p-4 text-center">
            <p class="text-2xl font-bold text-green-600">{{ total_hours }}</p>
            <p class="text-sm text-gray-600">Total Hours</p>
        </div>
        <div class="bg-purple-50 rounded-lg p-4 text-center">
            <p class="text-2xl font-bold text-purple-600">{{ avg_hours_per_day }}</p>
            <p class="text-sm text-gray-600">Avg Hours/Day</p>
        </div>
    </div>
    
    <!-- Status Breakdown -->
    <div class="grid grid-cols-5 gap-4 mb-6">
        <div class="text-center p-3 bg-green-50 rounded-lg">
            <p class="text-xl font-bold text-green-600">{{ present }}</p>
            <p class="text-xs text-gray-600">Present</p>
        </div>
        <div class="text-center p-3 bg-yellow-50 rounded-lg">
            <p class="text-xl font-bold text-yellow-600">{{ late }}</p>
            <p class="text-xs text-gray-600">Late</p>
        </div>
        <div class="text-center p-3 bg-red-50 rounded-lg">
            <p class="text-xl font-bold text-red-600">{{ absent }}</p>
            <p class="text-xs text-gray-600">Absent</p>
        </div>
        <div class="text-center p-3 bg-blue-50 rounded-lg">
            <p class="text-xl font-bold text-blue-600">{{ on_leave }}</p>
            <p class="text-xs text-gray-600">On Leave</p>
        </div>
        <div class="text-center p-3 bg-purple-50 rounded-lg">
            <p class="text-xl font-bold text-purple-600">{{ half_day }}</p>
            <p class="text-xs text-gray-600">Half Day</p>
        </div>
    </div>
    
    <!-- Charts -->
    <div class="grid grid-cols-2 gap-4">
        <div class="h-64">
            <p class="text-sm font-medium text-gray-700 mb-2">Attendance Distribution</p>
            <canvas id="attendancePieChart"></canvas>
        </div>
        <div class="h-64">
            <p class="text-sm font-medium text-gray-700 mb-2">Status Breakdown</p>
            <canvas id="attendanceBarChart"></canvas>
        </div>
    </div>
</div>

<script>
    new Chart(document.getElementById('attendancePieChart'), {
        type: 'pie',
        data: {
            labels: ['Present', 'Late', 'Absent', 'On Leave', 'Half Day'],
            datasets: [{
                data: [{{ present }}, {{ late }}, {{ absent }}, {{ on_leave }}, {{ half_day }}],
                backgroundColor: ['#22c55e', '#eab308', '#ef4444', '#3b82f6', '#8b5cf6']
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { position: 'bottom', labels: { boxWidth: 12 } } }
        }
    });
    
    new Chart(document.getElementById('attendanceBarChart'), {
        type: 'bar',
        data: {
            labels: ['Present', 'Late', 'Absent', 'On Leave', 'Half Day'],
            datasets: [{
                label: 'Count',
                data: [{{ present }}, {{ late }}, {{ absent }}, {{ on_leave }}, {{ half_day }}],
                backgroundColor: ['#22c55e', '#eab308', '#ef4444', '#3b82f6', '#8b5cf6'],
                borderRadius: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: { y: { beginAtZero: true } }
        }
    });
</script>